{"ast":null,"code":"const nodemailer = require('nodemailer');\n\nexport default function sendMail(req, res) {\n  let trasporter = nodemailer.createTransport({\n    host: 'authsmtp.securemail.pro',\n    port: 465,\n    auth: {\n      user: 'fgreco@craon.it',\n      pass: 'Cinisello04'\n    }\n  });\n  transporter.sendMail({\n    from: req.body.email,\n    to: \"info@craon.it, informazioni@craon.it, fgreco@craon.it\",\n    subject: req.body.oggetto,\n    text: req.body.messaggio,\n    html: `<h2> Nuovo messaggio da ${req.body.cognome + ' ' + req.body.nome} di ${req.body.azienda}   </h2> <br>\n   <h4> Testo del Messaggio: </h4> <br>\n   <p> ${req.body.messaggio} </p> <br>\n   <p> Conttato mail: ${req.body.email} </p>`\n  }).then(response => {\n    res.send(response);\n  }).catch(error => {\n    res.semd(error);\n  });\n}\n/*\r\nconst transporter = nodemailer.createTransport({\r\n  service: 'authsmtp.securemail.pro',\r\n  auth: {\r\n    type: 'authsmtp.securemail.pro',\r\n    user: 'info@craon.it',\r\n    refreshToken: '',\r\n    accessToken: '',\r\n    clientId: '',\r\n    clientSecret: ''\r\n  }\r\n})\r\n*/","map":{"version":3,"sources":["C:/Users/fraan/Documents/craonsite-modifiche_giugno/pages/api/mailer.js"],"names":["nodemailer","require","sendMail","req","res","trasporter","createTransport","host","port","auth","user","pass","transporter","from","body","email","to","subject","oggetto","text","messaggio","html","cognome","nome","azienda","then","response","send","catch","error","semd"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AAEA,eAAe,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAG3C,MAAIC,UAAU,GAAGL,UAAU,CAACM,eAAX,CAA2B;AACxCC,IAAAA,IAAI,EAAE,yBADkC;AAExCC,IAAAA,IAAI,EAAE,GAFkC;AAGxCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,iBADF;AAEJC,MAAAA,IAAI,EAAE;AAFF;AAHkC,GAA3B,CAAjB;AASEC,EAAAA,WAAW,CAACV,QAAZ,CAAqB;AACnBW,IAAAA,IAAI,EAAEV,GAAG,CAACW,IAAJ,CAASC,KADI;AAEnBC,IAAAA,EAAE,EAAE,uDAFe;AAGnBC,IAAAA,OAAO,EAAEd,GAAG,CAACW,IAAJ,CAASI,OAHC;AAInBC,IAAAA,IAAI,EAAEhB,GAAG,CAACW,IAAJ,CAASM,SAJI;AAKnBC,IAAAA,IAAI,EAAG,2BAA0BlB,GAAG,CAACW,IAAJ,CAASQ,OAAT,GAAmB,GAAnB,GAAyBnB,GAAG,CAACW,IAAJ,CAASS,IAAK,OAAMpB,GAAG,CAACW,IAAJ,CAASU,OAAQ;AACnG;AACA,SAASrB,GAAG,CAACW,IAAJ,CAASM,SAAU;AAC5B,wBAAwBjB,GAAG,CAACW,IAAJ,CAASC,KAAM;AARhB,GAArB,EAUGU,IAVH,CAUSC,QAAD,IAAc;AACpBtB,IAAAA,GAAG,CAACuB,IAAJ,CAASD,QAAT;AACD,GAZD,EAYGE,KAZH,CAYUC,KAAD,IAAW;AAAEzB,IAAAA,GAAG,CAAC0B,IAAJ,CAASD,KAAT;AAAiB,GAZvC;AAcD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["const nodemailer = require('nodemailer')\r\n\r\nexport default function sendMail(req, res) {\r\n  \r\n  \r\nlet trasporter = nodemailer.createTransport({\r\n    host: 'authsmtp.securemail.pro',\r\n    port: 465,\r\n    auth: {\r\n      user: 'fgreco@craon.it',\r\n      pass: 'Cinisello04'\r\n    }\r\n  })\r\n\r\n  transporter.sendMail({\r\n    from: req.body.email,\r\n    to: \"info@craon.it, informazioni@craon.it, fgreco@craon.it\",\r\n    subject: req.body.oggetto,\r\n    text: req.body.messaggio,\r\n    html: `<h2> Nuovo messaggio da ${req.body.cognome + ' ' + req.body.nome} di ${req.body.azienda}   </h2> <br>\r\n   <h4> Testo del Messaggio: </h4> <br>\r\n   <p> ${req.body.messaggio} </p> <br>\r\n   <p> Conttato mail: ${req.body.email} </p>`,\r\n  \r\n  }).then((response) => {\r\n    res.send(response)\r\n  }).catch((error) => { res.semd(error) })\r\n \r\n}\r\n\r\n\r\n/*\r\nconst transporter = nodemailer.createTransport({\r\n  service: 'authsmtp.securemail.pro',\r\n  auth: {\r\n    type: 'authsmtp.securemail.pro',\r\n    user: 'info@craon.it',\r\n    refreshToken: '',\r\n    accessToken: '',\r\n    clientId: '',\r\n    clientSecret: ''\r\n  }\r\n})\r\n*/\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}