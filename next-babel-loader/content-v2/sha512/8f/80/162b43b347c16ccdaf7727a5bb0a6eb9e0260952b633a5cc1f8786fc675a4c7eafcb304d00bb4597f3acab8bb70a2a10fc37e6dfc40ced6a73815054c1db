{"ast":null,"code":"import nodemailer from 'nodemailer';\nexport default (async (req, res) => {\n  const {\n    nome,\n    cognome,\n    email,\n    azienda,\n    oggetto,\n    messaggio\n  } = req.body;\n  const transporter = nodemailer.createTransport({\n    host: 'smtp.gmail.com',\n    port: 465,\n    secure: true,\n    auth: {\n      user: process.env.UserEmail,\n      password: process.env.PasswordEmail\n    }\n  });\n\n  try {\n    const posta = await transporter.sendMail({\n      from: email,\n      to: 'fraan83@gmail.com',\n      subject: oggetto,\n      html: ` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \n            <br>\n            <p> Azienda: <strong> ${azienda} </strong> </p> \n            <br>\n            <br>\n            <p>MESSAGGIO: </p> <br>\n            <p> ${messaggio} </p> `\n    });\n  } catch (error) {}\n\n  res.status(200).json(req.body);\n});","map":{"version":3,"sources":["C:/Users/fraan/Documents/craonsite-modifiche_giugno/pages/api/mail.js"],"names":["nodemailer","req","res","nome","cognome","email","azienda","oggetto","messaggio","body","transporter","createTransport","host","port","secure","auth","user","process","env","UserEmail","password","PasswordEmail","posta","sendMail","from","to","subject","html","error","status","json"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAE/B,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA,KAAhB;AAAuBC,IAAAA,OAAvB;AAAgCC,IAAAA,OAAhC;AAAyCC,IAAAA;AAAzC,MAAuDP,GAAG,CAACQ,IAAjE;AAEA,QAAMC,WAAW,GAAGV,UAAU,CAACW,eAAX,CAA2B;AAC3CC,IAAAA,IAAI,EAAE,gBADqC;AAE3CC,IAAAA,IAAI,EAAE,GAFqC;AAG3CC,IAAAA,MAAM,EAAE,IAHmC;AAI3CC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADhB;AAEFC,MAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFpB;AAJqC,GAA3B,CAApB;;AAWA,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMZ,WAAW,CAACa,QAAZ,CAAqB;AACrCC,MAAAA,IAAI,EAAEnB,KAD+B;AAErCoB,MAAAA,EAAE,EAAE,mBAFiC;AAGrCC,MAAAA,OAAO,EAAEnB,OAH4B;AAIrCoB,MAAAA,IAAI,EAAE,8CAA6CxB,IAAI,GAAG,GAAP,GAAaC,OAAQ;AACpF;AACA,oCAAoCE,OAAQ;AAC5C;AACA;AACA;AACA,kBAAkBE,SAAU;AAVqB,KAArB,CAApB;AAcH,GAfD,CAeE,OAAOoB,KAAP,EAAc,CAEf;;AAED1B,EAAAA,GAAG,CAAC2B,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB7B,GAAG,CAACQ,IAAzB;AACH,CAnCD","sourcesContent":["import nodemailer from 'nodemailer'\r\n\r\nexport default async (req, res) => {\r\n\r\n    const {nome, cognome, email, azienda, oggetto, messaggio } = req.body;\r\n\r\n    const transporter = nodemailer.createTransport({\r\n        host: 'smtp.gmail.com',\r\n        port: 465,\r\n        secure: true,\r\n        auth: {\r\n            user: process.env.UserEmail,\r\n            password: process.env.PasswordEmail\r\n        }\r\n    });\r\n\r\n\r\n    try {\r\n        const posta = await transporter.sendMail({\r\n            from: email,\r\n            to: 'fraan83@gmail.com',\r\n            subject: oggetto,\r\n            html:` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \r\n            <br>\r\n            <p> Azienda: <strong> ${azienda} </strong> </p> \r\n            <br>\r\n            <br>\r\n            <p>MESSAGGIO: </p> <br>\r\n            <p> ${messaggio} </p> `,\r\n\r\n\r\n        });\r\n    } catch (error) {\r\n        \r\n    }\r\n \r\n    res.status(200).json(req.body)\r\n}"]},"metadata":{},"sourceType":"module"}