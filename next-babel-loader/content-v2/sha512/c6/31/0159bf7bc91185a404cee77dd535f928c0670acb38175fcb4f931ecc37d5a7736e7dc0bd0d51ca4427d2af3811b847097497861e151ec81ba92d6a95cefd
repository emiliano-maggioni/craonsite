{"ast":null,"code":"const nodemailer = require('nodemailer');\n\nexport default async function sendMail(req, res) {\n  let transporter = nodemailer.createTransport({\n    host: 'authsmtp.securemail.pro',\n    port: 465,\n    auth: {\n      user: 'fgreco@craon.it',\n      pass: 'Cinisello4'\n    }\n  });\n  transporter.sendMail({\n    from: req.body.email,\n    to: \"fgreco@craon.it\",\n    subject: req.body.oggetto,\n    text: req.body.messaggio,\n    html: `<h2> Nuovo messaggio da ${req.body.cognome + ' ' + req.body.nome} di ${req.body.azienda}   </h2> <br>\n   <h4> Testo del Messaggio: </h4> <br>\n   <p> ${req.body.messaggio} </p> <br>\n   <p> Conttato mail: ${req.body.email} </p>`\n  }).then(response => {\n    res.send(response);\n  }).catch(error => {\n    res.send(error);\n  });\n}\n/*\r\nconst transporter = nodemailer.createTransport({\r\n  service: 'authsmtp.securemail.pro',\r\n  auth: {\r\n    type: 'authsmtp.securemail.pro',\r\n    user: 'info@craon.it',\r\n    refreshToken: '',\r\n    accessToken: '',\r\n    clientId: '',\r\n    clientSecret: ''\r\n  }\r\n})\r\n*/","map":{"version":3,"sources":["C:/Users/fraan/Documents/craonsite-modifiche_giugno/pages/api/mailer.js"],"names":["nodemailer","require","sendMail","req","res","transporter","createTransport","host","port","auth","user","pass","from","body","email","to","subject","oggetto","text","messaggio","html","cognome","nome","azienda","then","response","send","catch","error"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AAEA,eAAe,eAAeC,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AAGjD,MAAIC,WAAW,GAAGL,UAAU,CAACM,eAAX,CAA2B;AACzCC,IAAAA,IAAI,EAAE,yBADmC;AAEzCC,IAAAA,IAAI,EAAE,GAFmC;AAGzCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,iBADF;AAEJC,MAAAA,IAAI,EAAE;AAFF;AAHmC,GAA3B,CAAlB;AASEN,EAAAA,WAAW,CAACH,QAAZ,CAAqB;AACnBU,IAAAA,IAAI,EAAET,GAAG,CAACU,IAAJ,CAASC,KADI;AAEnBC,IAAAA,EAAE,EAAE,iBAFe;AAGnBC,IAAAA,OAAO,EAAEb,GAAG,CAACU,IAAJ,CAASI,OAHC;AAInBC,IAAAA,IAAI,EAAEf,GAAG,CAACU,IAAJ,CAASM,SAJI;AAKnBC,IAAAA,IAAI,EAAG,2BAA0BjB,GAAG,CAACU,IAAJ,CAASQ,OAAT,GAAmB,GAAnB,GAAyBlB,GAAG,CAACU,IAAJ,CAASS,IAAK,OAAMnB,GAAG,CAACU,IAAJ,CAASU,OAAQ;AACnG;AACA,SAASpB,GAAG,CAACU,IAAJ,CAASM,SAAU;AAC5B,wBAAwBhB,GAAG,CAACU,IAAJ,CAASC,KAAM;AARhB,GAArB,EAUGU,IAVH,CAUSC,QAAD,IAAc;AACpBrB,IAAAA,GAAG,CAACsB,IAAJ,CAASD,QAAT;AACD,GAZD,EAYGE,KAZH,CAYUC,KAAD,IAAW;AAAExB,IAAAA,GAAG,CAACsB,IAAJ,CAASE,KAAT;AAAiB,GAZvC;AAcD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["const nodemailer = require('nodemailer')\r\n\r\nexport default async function sendMail(req, res) {\r\n  \r\n  \r\nlet transporter = nodemailer.createTransport({\r\n    host: 'authsmtp.securemail.pro',\r\n    port: 465,\r\n    auth: {\r\n      user: 'fgreco@craon.it',\r\n      pass: 'Cinisello4'\r\n    }\r\n  })\r\n\r\n  transporter.sendMail({\r\n    from: req.body.email,\r\n    to: \"fgreco@craon.it\",\r\n    subject: req.body.oggetto,\r\n    text: req.body.messaggio,\r\n    html: `<h2> Nuovo messaggio da ${req.body.cognome + ' ' + req.body.nome} di ${req.body.azienda}   </h2> <br>\r\n   <h4> Testo del Messaggio: </h4> <br>\r\n   <p> ${req.body.messaggio} </p> <br>\r\n   <p> Conttato mail: ${req.body.email} </p>`,\r\n  \r\n  }).then((response) => {\r\n    res.send(response)\r\n  }).catch((error) => { res.send(error) })\r\n \r\n}\r\n\r\n\r\n/*\r\nconst transporter = nodemailer.createTransport({\r\n  service: 'authsmtp.securemail.pro',\r\n  auth: {\r\n    type: 'authsmtp.securemail.pro',\r\n    user: 'info@craon.it',\r\n    refreshToken: '',\r\n    accessToken: '',\r\n    clientId: '',\r\n    clientSecret: ''\r\n  }\r\n})\r\n*/\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}