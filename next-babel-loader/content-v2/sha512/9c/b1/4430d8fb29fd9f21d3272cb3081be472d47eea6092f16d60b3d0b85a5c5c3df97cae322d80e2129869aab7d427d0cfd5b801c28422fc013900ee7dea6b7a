{"ast":null,"code":"var nodemailer = require('nodemailer');\n\nvar smtpTransport = require('nodemailer-smtp-transport'); // this is important\n\n\nvar transporter = nodemailer.createTransport(smtpTransport({\n  service: 'register.it',\n  host: 'authsmtp.securemail.pro',\n  auth: {\n    user: 'fgreco@craon.it',\n    pass: 'Cinisello04'\n  }\n}));\n\nconst send = ({\n  email,\n  nome,\n  cognome,\n  azienda,\n  oggetto,\n  messaggio\n}) => {\n  const from = nome && email ? `${nome} <${email}>` : `${nome || email}`;\n  const message = {\n    from,\n    to: 'info@craon.it',\n    subject: `Nuovo ${oggetto}`,\n    html: ` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \n    <br>\n    <p> Azienda: <strong> ${azienda} </strong> </p> \n    <br>\n    <br>\n    <p>MESSAGGIO: </p> <br>\n    <p> ${messaggio} </p> `,\n    replyTo: from\n  };\n  return new Promise((resolve, reject) => {\n    transporter.sendMail(message, (error, info) => error ? reject(error) : resolve(info));\n  });\n};\n\nmodule.exports = send;","map":null,"metadata":{},"sourceType":"script"}