{"ast":null,"code":"import nodemailer from 'nodemailer';\nexport default (async (req, res) => {\n  const {\n    nome,\n    cognome,\n    email,\n    azienda,\n    oggetto,\n    messaggio\n  } = req.body;\n  const transporter = nodemailer.createTransport({\n    host: 'authsmtp.securemail.pro',\n    port: 465,\n    secure: true,\n    auth: {\n      user: process.env.UserEmail,\n      password: process.env.PasswordEmail\n    }\n  });\n\n  try {\n    const posta = await transporter.sendMail({\n      from: email,\n      to: 'fgreco@craon.it',\n      subject: oggetto,\n      html: ` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \n            <br>\n            <p> Azienda: <strong> ${azienda} </strong> </p> \n            <br>\n            <br>\n            <p>MESSAGGIO: </p> <br>\n            <p> ${messaggio} </p> `\n    });\n    console.log('message sent', posta.messageId);\n  } catch (error) {}\n\n  res.status(200).json(req.body);\n});","map":null,"metadata":{},"sourceType":"module"}