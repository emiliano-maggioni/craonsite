{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport classes from \"./ContattiSection.module.scss\";\nimport Title from \"components/title/Title\";\nimport { useForm } from \"react-hook-form\";\nimport TextField from '@material-ui/core/TextField';\nimport Image from \"next/image\";\nimport Button from \"components/buttons/Button\";\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport CommuteIcon from '@material-ui/icons/Commute';\nimport ErrorHandler from '../../utils/errorHandler';\nimport Link from 'next/link';\nimport axios from \"axios\";\n\nvar ContattiSection = function ContattiSection() {\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      reset = _useForm.reset,\n      errors = _useForm.formState.errors;\n\n  var _useState = useState(false),\n      submitted = _useState[0],\n      setSubmitted = _useState[1];\n\n  function onSubmit(_x) {\n    return _onSubmit.apply(this, arguments);\n  }\n\n  function _onSubmit() {\n    _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var config, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //  console.log(values)\n              config = {\n                method: 'POST',\n                url: \"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/api/mail\"),\n                headers: {\n                  'Content-type': 'application/json'\n                },\n                data: values\n              };\n              _context.prev = 1;\n              _context.next = 4;\n              return axios(config);\n\n            case 4:\n              response = _context.sent;\n\n              if (response.status == 200) {\n                console.log('Success');\n                alert('Email inviata correttamente al centro assistenza.');\n                reset();\n              } // console.log('response', response)\n\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('errore', _context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n    return _onSubmit.apply(this, arguments);\n  }\n\n  var msgerror = \"Campo Obbligatorio\";\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"section\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.content,\n      children: [/*#__PURE__*/_jsx(Title, {\n        text: \"Contatti\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: classes.pageContent,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: classes.info,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: classes.title,\n            children: \"CRAON SRL\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"strong\", {\n              children: \"Sede operativa: \"\n            }), \" Via Bice Cremagnani, 16 \\u2013 20871 Vimercate (MB)\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"strong\", {\n              children: \"Partita Iva: \"\n            }), \"02820820963\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"strong\", {\n              children: \"Tel: \"\n            }), \"039.6612489\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"strong\", {\n              children: \"Email: \"\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: classes.mail,\n              href: \"mailto:info@craon.it\",\n              children: \"info@craon.it\"\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: classes.title,\n            children: \"COME RAGGIUNGERCI\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: classes.iconMezzo,\n              children: /*#__PURE__*/_jsx(CommuteIcon, {})\n            }), \" da Milano centrale prendi il treno per Lecco, fermata Arcore, poi prendi il pullman n. 320 per Vimercate che ferma in Via Bice Cremagnani 16\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: classes.iconMezzo,\n              children: /*#__PURE__*/_jsx(CommuteIcon, {})\n            }), \"Metro verde Cologno Nord, prendi il pullman per il centro di Vimercate, prosegui per 5 minuti a piedi e raggiungi la sede in Via Bice Cremagnani 16\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: classes.iconMezzo,\n              children: /*#__PURE__*/_jsx(DirectionsCarIcon, {})\n            }), \"Auto propria, prendi la tangenziale est, uscita Vimercate centro.\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.form,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: classes.title,\n            children: \"CONTATTACI\"\n          }), /*#__PURE__*/_jsxs(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: [/*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n              fullWidth: true,\n              name: \"nome\",\n              label: \"Nome *\",\n              variant: \"outlined\",\n              helperText: !!errors.nome ? msgerror : null\n            }, register('nome', {\n              required: true\n            })), {}, {\n              error: !!errors.nome,\n              className: \"textField\"\n            })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n              name: \"cognome\",\n              label: \"Cognome *\",\n              variant: \"outlined\",\n              helperText: !!errors.cognome ? msgerror : null\n            }, register('cognome', {\n              required: true\n            })), {}, {\n              error: !!errors.cognome,\n              className: \"textField\"\n            })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n              name: \"azienda\",\n              label: \"Azienda *\",\n              variant: \"outlined\",\n              helperText: !!errors.azienda ? msgerror : null\n            }, register('azienda', {\n              required: true\n            })), {}, {\n              error: !!errors.azienda,\n              className: \"textField\"\n            })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n              name: \"email\",\n              label: \"Email *\",\n              variant: \"outlined\",\n              helperText: !!errors.email ? \"Inserire una email valida\" : null\n            }, register('email', {\n              required: true,\n              pattern: {\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                message: \"Inserire una email valida\"\n              }\n            })), {}, {\n              error: !!errors.email,\n              className: \"textField\"\n            })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n              name: \"oggetto\",\n              label: \"Oggetto *\",\n              variant: \"outlined\",\n              helperText: !!errors.oggetto ? msgerror : null\n            }, register('oggetto', {\n              required: true\n            })), {}, {\n              error: !!errors.oggetto,\n              className: \"textField\"\n            })), /*#__PURE__*/_jsx(TextareaAutosize, _objectSpread({\n              name: \"messaggio\",\n              placeholder: \"Messaggio *\",\n              className: \"\".concat(classes.description, \" \").concat(!!errors.messaggio && classes.errore)\n            }, register('messaggio', {\n              required: true\n            }))), !!errors.messaggio && /*#__PURE__*/_jsx(\"div\", {\n              className: \"msgerror\",\n              children: msgerror\n            }), /*#__PURE__*/_jsx(Button, {\n              type: \"submit\"\n            })]\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nexport default ContattiSection;","map":null,"metadata":{},"sourceType":"module"}