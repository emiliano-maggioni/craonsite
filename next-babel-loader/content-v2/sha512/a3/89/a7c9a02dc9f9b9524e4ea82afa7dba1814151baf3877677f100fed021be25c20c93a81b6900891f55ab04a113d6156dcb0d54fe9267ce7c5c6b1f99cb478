{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/Users/fraan/Documents/craonsite-modifiche_giugno/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport classes from \"./form-assistenza.module.scss\";\nimport { useForm } from \"react-hook-form\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"components/buttons/Button\";\nimport { FormControlLabel, TextareaAutosize, Checkbox } from \"@material-ui/core\";\nimport Link from 'next/link';\nimport axios from \"axios\";\n\nvar FormAssistenza = function FormAssistenza(_ref) {\n  var title = _ref.title,\n      subtitle = _ref.subtitle,\n      icon = _ref.icon;\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      reset = _useForm.reset,\n      errors = _useForm.formState.errors;\n\n  function onSubmit(_x) {\n    return _onSubmit.apply(this, arguments);\n  }\n\n  function _onSubmit() {\n    _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var config, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(values);\n              config = {\n                method: 'POST',\n                url: \"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/api/mail\"),\n                headers: {\n                  'Content-type': 'application/json'\n                },\n                data: values\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return axios(config);\n\n            case 5:\n              response = _context.sent;\n\n              if (response.data.status == 200) {\n                console.log('Success');\n              }\n\n              console.log('response', response);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log('error', _context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n    return _onSubmit.apply(this, arguments);\n  }\n\n  var msgerror = \"Campo Obbligatorio\";\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classes.containerForm,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: classes.headerForm,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: classes.titleForm,\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          className: classes.iconForm,\n          src: icon\n        }), title]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: classes.contentForm,\n      children: /*#__PURE__*/_jsxs(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n          fullWidth: true,\n          name: \"nome\",\n          label: \"Nome *\",\n          variant: \"outlined\",\n          helperText: !!errors.nome ? msgerror : null\n        }, register('nome', {\n          required: true\n        })), {}, {\n          error: !!errors.nome,\n          className: \"textField\"\n        })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n          fullWidth: true,\n          name: \"cognome\",\n          label: \"Cognome *\",\n          variant: \"outlined\",\n          helperText: !!errors.cognome ? msgerror : null\n        }, register('cognome', {\n          required: true\n        })), {}, {\n          error: !!errors.cognome,\n          className: \"textField\"\n        })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n          fullWidth: true,\n          name: \"azienda\",\n          label: \"Azienda *\",\n          variant: \"outlined\",\n          helperText: !!errors.azienda ? msgerror : null\n        }, register('azienda', {\n          required: true\n        })), {}, {\n          error: !!errors.azienda,\n          className: \"textField\"\n        })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n          fullWidth: true,\n          name: \"email\",\n          label: \"Email *\",\n          variant: \"outlined\",\n          helperText: !!errors.email ? \"Inserire una email valida\" : null\n        }, register('email', {\n          required: true,\n          pattern: {\n            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n            message: \"Inserire una email valida\"\n          }\n        })), {}, {\n          error: !!errors.email,\n          className: \"textField\"\n        })), /*#__PURE__*/_jsx(TextField, _objectSpread(_objectSpread({\n          fullWidth: true,\n          name: \"oggetto\",\n          label: \"Oggetto *\",\n          variant: \"outlined\",\n          helperText: !!errors.oggetto ? msgerror : null\n        }, register('oggetto', {\n          required: true\n        })), {}, {\n          error: !!errors.oggetto,\n          className: \"textField\"\n        })), /*#__PURE__*/_jsx(TextareaAutosize, _objectSpread({\n          name: \"messaggio\",\n          placeholder: \"Messaggio *\",\n          className: \"\".concat(classes.description, \" \").concat(!!errors.messaggio && classes.errore)\n        }, register('messaggio', {\n          required: true\n        }))), /*#__PURE__*/_jsx(\"br\", {}), !!errors.messaggio && /*#__PURE__*/_jsx(\"div\", {\n          className: \"msgerror\",\n          children: msgerror\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.buttonArea,\n          children: [/*#__PURE__*/_jsx(FormControlLabel, {\n            value: \"end\",\n            control: /*#__PURE__*/_jsx(Checkbox, {\n              color: \"primary\"\n            }),\n            label: /*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                children: \" * Ho letto  \"\n              }), /*#__PURE__*/_jsx(Link, {\n                href: '/terminiecondizioni',\n                children: \" la policy sulla privacy \"\n              })]\n            }),\n            labelPlacement: \"end\"\n          }), /*#__PURE__*/_jsx(Button, {\n            type: \"submit\"\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nexport default FormAssistenza;","map":null,"metadata":{},"sourceType":"module"}