{"ast":null,"code":"import nodemailer from 'nodemailer';\nexport default (async (req, res) => {\n  const {\n    nome,\n    cognome,\n    email,\n    azienda,\n    oggetto,\n    messaggio\n  } = req.body;\n  console.log('mail', req.body);\n  const transporter = nodemailer.createTransport({\n    host: 'authsmtp.securemail.pro',\n    port: 465,\n    secure: true,\n    auth: {\n      user: process.env.UserEmail,\n      password: process.env.PasswordEmail\n    }\n  });\n\n  try {\n    const posta = await transporter.sendMail({\n      from: email,\n      to: 'fgreco@craon.it',\n      subject: oggetto,\n      html: ` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \n            <br>\n            <p> Azienda: <strong> ${azienda} </strong> </p> \n            <br>\n            <br>\n            <p>MESSAGGIO: </p> <br>\n            <p> ${messaggio} </p> `\n    });\n    console.log('message sent', posta.messageId);\n  } catch (error) {}\n\n  res.status(200).json(req.body);\n});","map":{"version":3,"sources":["C:/Users/fraan/Documents/craonsite-modifiche_giugno/pages/api/mail.js"],"names":["nodemailer","req","res","nome","cognome","email","azienda","oggetto","messaggio","body","console","log","transporter","createTransport","host","port","secure","auth","user","process","env","UserEmail","password","PasswordEmail","posta","sendMail","from","to","subject","html","messageId","error","status","json"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAE/B,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA,KAAhB;AAAuBC,IAAAA,OAAvB;AAAgCC,IAAAA,OAAhC;AAAyCC,IAAAA;AAAzC,MAAuDP,GAAG,CAACQ,IAAjE;AACCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBV,GAAG,CAACQ,IAAxB;AACD,QAAMG,WAAW,GAAGZ,UAAU,CAACa,eAAX,CAA2B;AAC3CC,IAAAA,IAAI,EAAE,yBADqC;AAE3CC,IAAAA,IAAI,EAAE,GAFqC;AAG3CC,IAAAA,MAAM,EAAE,IAHmC;AAI3CC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADhB;AAEFC,MAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFpB;AAJqC,GAA3B,CAApB;;AAWA,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMZ,WAAW,CAACa,QAAZ,CAAqB;AACrCC,MAAAA,IAAI,EAAErB,KAD+B;AAErCsB,MAAAA,EAAE,EAAE,iBAFiC;AAGrCC,MAAAA,OAAO,EAAErB,OAH4B;AAIrCsB,MAAAA,IAAI,EAAE,8CAA6C1B,IAAI,GAAG,GAAP,GAAaC,OAAQ;AACpF;AACA,oCAAoCE,OAAQ;AAC5C;AACA;AACA;AACA,kBAAkBE,SAAU;AAVqB,KAArB,CAApB;AAeAE,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4Ba,KAAK,CAACM,SAAlC;AACH,GAjBD,CAiBE,OAAOC,KAAP,EAAc,CAEf;;AAED7B,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBhC,GAAG,CAACQ,IAAzB;AACH,CArCD","sourcesContent":["import nodemailer from 'nodemailer'\r\n\r\nexport default async (req, res) => {\r\n\r\n    const {nome, cognome, email, azienda, oggetto, messaggio } = req.body;\r\n     console.log('mail', req.body)\r\n    const transporter = nodemailer.createTransport({\r\n        host: 'authsmtp.securemail.pro',\r\n        port: 465,\r\n        secure: true,\r\n        auth: {\r\n            user: process.env.UserEmail,\r\n            password: process.env.PasswordEmail\r\n        }\r\n    });\r\n\r\n\r\n    try {\r\n        const posta = await transporter.sendMail({\r\n            from: email,\r\n            to: 'fgreco@craon.it',\r\n            subject: oggetto,\r\n            html:` <p> Nuovo messaggio da </p> <br> <strong> ${nome + ' ' + cognome} </strong> \r\n            <br>\r\n            <p> Azienda: <strong> ${azienda} </strong> </p> \r\n            <br>\r\n            <br>\r\n            <p>MESSAGGIO: </p> <br>\r\n            <p> ${messaggio} </p> `,\r\n\r\n\r\n        });\r\n\r\n        console.log('message sent', posta.messageId)\r\n    } catch (error) {\r\n        \r\n    }\r\n \r\n    res.status(200).json(req.body)\r\n}"]},"metadata":{},"sourceType":"module"}